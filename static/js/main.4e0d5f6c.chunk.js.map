{"version":3,"sources":["api.js","providers/ProvideBookmark/reducer.js","providers/ProvideBookmark/index.js","components/CustomTag.js","components/Tags.js","components/EditBookmark.js","components/EditBookmarks.js","components/RecordName.js","components/RecordFavorite.js","pages/Bookmarks.js","helper/index.js","providers/ProvideAuth/index.js","components/SignIn.js","components/SignUp.js","pages/Home.js","components/UserMenu.js","App.js","index.js"],"names":["instance","axios","create","baseURL","reducer","state","action","type","page","total","docs","payload","tags","filter","doc","_id","map","ids","includes","Object","assign","data","Error","bookmarkContext","createContext","ProvideBookmark","children","context","useReducer","initialState","dispatch","bulkRemove","api","post","then","catch","response","message","error","bulkUpdate","getTags","get","drop","delete","add","list","params","update","id","put","concat","remove","useProvideBookmark","Provider","value","useBookmarks","useContext","limit","colorHash","ColorHash","CustomTag","label","onClick","onClose","color","useMemo","hex","closable","style","cursor","EditableTagGroup","props","useState","setTags","inputVisible","setInputVisible","inputValue","setInputValue","input","useRef","useEffect","onChange","current","focus","handleInputConfirm","indexOf","tag","item","ref","size","width","marginRight","verticalaAign","e","target","onBlur","onPressEnter","background","borderStyle","PlusOutlined","EditBookmark","Form","useForm","form","setType","loading","setLoading","isNew","record","setFieldsValue","title","visible","onCancel","onOk","submit","okText","confirmLoading","destroyOnClose","preserve","layout","onFinish","values","onCreate","finally","onUpdate","Item","name","textAlign","Group","Button","GlobalOutlined","BookOutlined","rules","required","placeholder","valuePropName","TextArea","selectedIds","initialValue","RecordName","url","domain","URL","hostname","href","rel","alt","src","RecordFavorite","favorite","StarFilled","fontSize","StarOutlined","Text","Typography","Bookmarks","setRecord","setPage","bulkEdit","setBulkEdit","setSelectedIds","search","setSearch","bookmarks","getBookmarks","useCallback","func","wait","immediate","timeout","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","debounce","columns","align","dataIndex","key","render","_","isActive","text","onCopy","success","icon","CopyOutlined","QrcodeOutlined","Modal","info","content","renderAs","EditOutlined","cancelText","destroyTooltipOnHide","okButtonProps","danger","onConfirm","DeleteOutlined","marginBottom","wrap","flex","bordered","allowClear","prefix","SearchOutlined","paddingLeft","length","lineHeight","dataSource","rowKey","pagination","showSizeChanger","pageSize","rowSelection","selectedRowKeys","scroll","x","whiteSpace","authContext","ProvideAuth","auth","useCookies","cookies","setCookie","removeCookie","user","setUser","exp","jwtDecode","accessToken","now","Date","getTime","token","defaults","headers","common","undefined","signin","email","password","path","signup","signout","useProvideAuth","useAuth","SignIn","backgroundColor","padding","marginTop","UserOutlined","Password","LockOutlined","htmlType","SignUp","dependencies","getFieldValue","validator","Promise","reject","resolve","Title","TabPane","Tabs","Home","level","overflow","maxWidth","tab","App","that","overlay","multiple","showUploadList","accept","authorization","res","file","status","uploading","confirm","preventDefault","DownOutlined","config","minHeight","Header","UserMenu","Content","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e0d5f6c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL:\n    process.env.NODE_ENV === \"production\"\n      ? \"https://api.bookmarks.am/api\"\n      : \"https://api.bookmarks.am/api\",\n});\n\nexport default instance;\n","export default function reducer(state, action) {\n  switch (action.type) {\n    case 'drop':\n      return {\n        ...state,\n        page: 1,\n        total: 0,\n        docs: [],\n      };\n\n    case 'list':\n      return {\n        ...state,\n        ...action.payload,\n      };\n    case 'getTags':\n      return {\n        ...state,\n        tags: action.payload,\n      };\n    case 'add':\n      return {\n        ...state,\n        docs: [action.payload, ...state.docs],\n      };\n    case 'remove':\n      return {\n        ...state,\n        docs: state.docs.filter((doc) => doc._id !== action.payload._id),\n      };\n    case 'update':\n      return {\n        ...state,\n        docs: state.docs.map((doc) => (doc._id === action.payload._id ? action.payload : doc)),\n      };\n    case 'bulkRemove':\n      return {\n        ...state,\n        docs: state.docs.filter((doc) => !action.payload.ids.includes(doc._id)),\n      };\n    case 'bulkUpdate':\n      return {\n        ...state,\n        docs: state.docs.map((doc) =>\n          action.payload.ids.includes(doc._id) ? Object.assign({}, doc, action.payload.data) : doc\n        ),\n      };\n\n    default:\n      throw new Error(`${action.type} not found!`);\n  }\n}\n","import { useContext, createContext, useReducer } from 'react';\nimport { message } from 'antd';\nimport api from '../../api';\nimport reducer from './reducer';\n\nconst bookmarkContext = createContext();\n\nexport function ProvideBookmark({ children }) {\n  const context = useProvideBookmark();\n  return <bookmarkContext.Provider value={context}>{children}</bookmarkContext.Provider>;\n}\n\nexport function useBookmarks() {\n  return useContext(bookmarkContext);\n}\n\nconst initialState = {\n  limit: 0,\n  total: 0,\n  tags: [],\n  docs: [],\n  page: 1,\n};\n\nfunction useProvideBookmark() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const list = (params) => {\n    return api\n      .get('/bookmarks', { params })\n      .then((response) => dispatch({ type: 'list', payload: response.data }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const add = (payload) => {\n    return api\n      .post('/bookmarks', payload)\n      .then((response) => dispatch({ type: 'add', payload: response.data }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const update = (id, payload) => {\n    return api\n      .put('/bookmarks/'.concat(id), payload)\n      .then((response) => dispatch({ type: 'update', payload: response.data }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const remove = (id) => {\n    return api\n      .delete('/bookmarks/'.concat(id))\n      .then(() => dispatch({ type: 'remove', payload: { _id: id } }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const drop = () => {\n    return api\n      .delete('/bookmarks/')\n      .then(() => dispatch({ type: 'drop' }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const getTags = () => {\n    return api\n      .get('/bookmarks/tags')\n      .then((response) => dispatch({ type: 'getTags', payload: response.data }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const bulkRemove = (ids) => {\n    return api\n      .post('/bookmarks/bulk/delete', { ids })\n      .then(() => dispatch({ type: 'bulkRemove', payload: { ids } }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const bulkUpdate = (ids, data) => {\n    return api\n      .post('/bookmarks/bulk/update', { ids, data })\n      .then(() => dispatch({ type: 'bulkUpdate', payload: { ids, data } }))\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  return {\n    data: state,\n    bulkRemove,\n    bulkUpdate,\n    getTags,\n    drop,\n    add,\n    list,\n    update,\n    remove,\n  };\n}\n","import { useMemo } from 'react';\nimport { Tag } from 'antd';\nimport ColorHash from 'color-hash';\n\nconst colorHash = new ColorHash();\n\nexport default function CustomTag({ label, onClick, onClose }) {\n  const color = useMemo(() => colorHash.hex(label), [label]);\n\n  return (\n    <Tag onClick={onClick} onClose={onClose} closable={!!onClose} color={color} style={{ cursor: 'pointer' }}>\n      {label}\n    </Tag>\n  );\n}\n","import { useState, useEffect, useRef } from 'react';\nimport { Tag, Input } from 'antd';\nimport CustomTag from '../components/CustomTag';\nimport { PlusOutlined } from '@ant-design/icons';\n\nexport default function EditableTagGroup(props) {\n  const [tags, setTags] = useState(props.value);\n  const [inputVisible, setInputVisible] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const input = useRef();\n\n  useEffect(() => {\n    props.onChange(tags);\n  }, [tags]);\n\n  useEffect(() => {\n    input?.current?.focus();\n  }, [inputVisible]);\n\n  const handleInputConfirm = () => {\n    if (inputValue && tags.indexOf(inputValue) === -1) {\n      setTags([...tags, inputValue]);\n    }\n    setInputVisible(false);\n    setInputValue('');\n  };\n\n  return (\n    <>\n      {tags.map((tag) => (\n        <CustomTag key={tag} label={tag} onClose={() => setTags(tags.filter((item) => item !== tag))} />\n      ))}\n      {inputVisible && <Input ref={input} type='text' size='small' style={{ width: '78px', marginRight: '8px', verticalaAign: 'top' }} value={inputValue} onChange={(e) => setInputValue(e.target.value)} onBlur={handleInputConfirm} onPressEnter={handleInputConfirm} />}\n      {!inputVisible && (\n        <Tag style={{ background: '#fff', borderStyle: 'dashed' }} onClick={() => setInputVisible(true)}>\n          <PlusOutlined /> New Tag\n        </Tag>\n      )}\n    </>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { Modal, Form, Input, Radio, Checkbox } from 'antd';\nimport { GlobalOutlined, BookOutlined } from '@ant-design/icons';\nimport Tags from './Tags';\n\nexport default function EditBookmark(props) {\n  const [form] = Form.useForm();\n  const [type, setType] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const isNew = !props.record?._id;\n\n  useEffect(() => {\n    form.setFieldsValue(props.record);\n    setType(props.record?.type);\n  }, [props.record, form]);\n\n  const onFinish = (values) => {\n    setLoading(true);\n    if (isNew) {\n      props.onCreate(values).finally((response) => {\n        setLoading(false);\n        props.onCancel();\n        return response;\n      });\n    } else {\n      props.onUpdate(props.record._id, values).finally((response) => {\n        setLoading(false);\n        props.onCancel();\n        return response;\n      });\n    }\n  };\n\n  return (\n    <Modal\n      title={isNew ? 'Add Bookmark' : 'Edit Bookmark'}\n      visible={!!props.record}\n      onCancel={() => props.onCancel()}\n      onOk={() => form.submit()}\n      okText=\"Submit\"\n      confirmLoading={loading}\n      destroyOnClose\n    >\n      <Form form={form} preserve={false} layout=\"vertical\" onFinish={onFinish}>\n        <Form.Item name=\"type\" style={{ textAlign: 'center' }}>\n          <Radio.Group value={type} onChange={(e) => setType(e.target.value)}>\n            <Radio.Button value=\"site\">\n              <GlobalOutlined /> Website\n            </Radio.Button>\n            <Radio.Button value=\"book\">\n              <BookOutlined /> Book\n            </Radio.Button>\n          </Radio.Group>\n        </Form.Item>\n        <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n          <Input placeholder=\"6pm\" />\n        </Form.Item>\n        {type === 'book' && (\n          <Form.Item name=\"page\" label=\"Page\">\n            <Input placeholder=\"14\" />\n          </Form.Item>\n        )}\n        <Form.Item name=\"url\" label=\"URL\" rules={[{ required: type === 'site' }]}>\n          <Input placeholder=\"https://6pm.com\" />\n        </Form.Item>\n        <Form.Item name=\"favorite\" valuePropName=\"checked\">\n          <Checkbox>Favorite (Show First)</Checkbox>\n        </Form.Item>\n        <Form.Item name=\"tags\" label=\"Tags\">\n          <Tags />\n        </Form.Item>\n        <Form.Item name=\"notes\" label=\"Notes\">\n          <Input.TextArea placeholder=\"Please don't write your password!\" />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import { useState } from 'react';\nimport { Modal, Form } from 'antd';\nimport Tags from './Tags';\n\nexport default function EditBookmark(props) {\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n\n  const onFinish = (values) => {\n    setLoading(true);\n    props.onUpdate(props.selectedIds, values).finally((response) => {\n      setLoading(false);\n      props.onCancel();\n      return response;\n    });\n  };\n\n  return (\n    <Modal\n      title=\"Update Bookmarks\"\n      visible={props.visible}\n      onCancel={() => props.onCancel()}\n      onOk={() => form.submit()}\n      okText=\"Submit\"\n      confirmLoading={loading}\n      destroyOnClose\n    >\n      <Form form={form} preserve={false} layout=\"vertical\" onFinish={onFinish}>\n        <Form.Item name=\"tags\" label=\"Tags\" initialValue={[]}>\n          <Tags />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import { BookOutlined } from '@ant-design/icons';\n\nexport default function RecordName({ record }) {\n  if (!!record.url) {\n    let domain = 'example.com';\n    try {\n      domain = new URL(record.url).hostname;\n    } catch {}\n    return (\n      <a href={record.url} target=\"_blank\" rel=\"noreferrer\">\n        <img\n          style={{ marginRight: 8 }}\n          alt=\"Logo\"\n          width=\"16\"\n          src={`https://www.google.com/s2/favicons?domain=${domain}`}\n        />\n        {record.name}\n      </a>\n    );\n  }\n  return (\n    <>\n      <BookOutlined style={{ marginRight: 8 }} />\n      {record.name}\n    </>\n  );\n}\n","import { StarFilled, StarOutlined } from '@ant-design/icons';\n\nexport default function RecordFavorite({ record, onClick }) {\n  return record.favorite ? (\n    <StarFilled\n      onClick={() => onClick({ ...record, favorite: false })}\n      style={{ color: '#eec35d', fontSize: 16 }}\n    />\n  ) : (\n    <StarOutlined\n      onClick={() => onClick({ ...record, favorite: true })}\n      style={{ color: '#e6e2da', fontSize: 16 }}\n    />\n  );\n}\n","import { useState, useEffect, useMemo, useCallback } from \"react\";\nimport {\n  Table,\n  Space,\n  Input,\n  Row,\n  Col,\n  Button,\n  Popconfirm,\n  Modal,\n  Typography,\n  message,\n} from \"antd\";\nimport {\n  SearchOutlined,\n  CopyOutlined,\n  DeleteOutlined,\n  QrcodeOutlined,\n  EditOutlined,\n  PlusOutlined,\n} from \"@ant-design/icons\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport { useBookmarks } from \"../providers/ProvideBookmark\";\nimport { debounce } from \"../helper\";\nimport EditBookmark from \"../components/EditBookmark\";\nimport EditBookmarks from \"../components/EditBookmarks\";\nimport RecordName from \"../components/RecordName\";\nimport RecordFavorite from \"../components/RecordFavorite\";\n\nimport CustomTag from \"../components/CustomTag\";\n\nimport QRCode from \"qrcode.react\";\n\nconst { Text } = Typography;\n\nexport default function Bookmarks() {\n  const [record, setRecord] = useState(null);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [bulkEdit, setBulkEdit] = useState(false);\n  const [selectedIds, setSelectedIds] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const bookmarks = useBookmarks();\n\n  const getBookmarks = useCallback(\n    debounce((params) => {\n      if (!loading) setLoading(true);\n      return bookmarks.list(params).finally((response) => {\n        setLoading(false);\n        return response;\n      });\n    }, 300),\n    []\n  );\n\n  useEffect(() => {\n    if (page !== 1) setPage(1);\n    getBookmarks({ search, page: 1 });\n  }, [search]);\n\n  useEffect(() => {\n    getBookmarks({ search, page });\n  }, [page]);\n\n  useEffect(() => {\n    bookmarks.getTags();\n  }, []);\n\n  const columns = useMemo(\n    () => [\n      {\n        title: \"\",\n        width: 40,\n        align: \"center\",\n        dataIndex: \"favorite\",\n        key: \"favorite\",\n        render: (_, record) => (\n          <RecordFavorite\n            record={record}\n            onClick={(data) => bookmarks.update(record._id, data)}\n          />\n        ),\n      },\n      {\n        title: \"Name\",\n        dataIndex: \"name\",\n        key: \"name\",\n        render: (_, record) => <RecordName record={record} />,\n      },\n      {\n        title: \"Notes\",\n        dataIndex: \"notes\",\n        key: \"notes\",\n      },\n      {\n        title: \"Tags\",\n        key: \"tags\",\n        dataIndex: \"tags\",\n        render: (list) =>\n          list?.map((item) => (\n            <CustomTag\n              key={item}\n              label={item}\n              onClick={() => setSearch(item)}\n              isActive={search === item}\n            />\n          )),\n      },\n      {\n        title: \"\",\n        key: \"action\",\n        align: \"right\",\n        render: (_, record) => (\n          <Space>\n            {!!record.url && (\n              <>\n                <CopyToClipboard\n                  text={record.url}\n                  onCopy={() => message.success(\"Copied.\")}\n                >\n                  <Button size=\"small\" icon={<CopyOutlined />} />\n                </CopyToClipboard>\n                <Button\n                  size=\"small\"\n                  icon={<QrcodeOutlined />}\n                  onClick={() =>\n                    Modal.info({\n                      icon: null,\n                      width: 310,\n                      content: (\n                        <QRCode size=\"240\" renderAs=\"svg\" value={record.url} />\n                      ),\n                    })\n                  }\n                />\n              </>\n            )}\n            <Button\n              size=\"small\"\n              onClick={() => setRecord(record)}\n              icon={<EditOutlined />}\n            />\n            <Popconfirm\n              okText=\"Yes\"\n              cancelText=\"No\"\n              destroyTooltipOnHide\n              okButtonProps={{ danger: true }}\n              title=\"Are you sure you want to delete this bookmark?\"\n              onConfirm={() => bookmarks.remove(record._id)}\n            >\n              <Button size=\"small\" icon={<DeleteOutlined />} />\n            </Popconfirm>\n          </Space>\n        ),\n      },\n    ],\n    []\n  );\n\n  return (\n    <div>\n      <EditBookmark\n        onCancel={() => setRecord(null)}\n        onUpdate={bookmarks.update}\n        onCreate={bookmarks.add}\n        record={record}\n      />\n      <EditBookmarks\n        visible={bulkEdit}\n        selectedIds={selectedIds}\n        onCancel={() => {\n          setSelectedIds([]);\n          setBulkEdit(false);\n        }}\n        onUpdate={(ids, data) =>\n          bookmarks.bulkUpdate(ids, data).then((response) => {\n            setSelectedIds([]);\n            setBulkEdit(false);\n            return response;\n          })\n        }\n      />\n      <Row style={{ marginBottom: 20 }} wrap={false}>\n        <Col flex=\"auto\">\n          <Input\n            bordered\n            allowClear\n            size=\"large\"\n            value={search}\n            placeholder=\"Type name, tag, link...\"\n            prefix={<SearchOutlined />}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n        </Col>\n        <Col flex=\"none\" style={{ paddingLeft: 20 }}>\n          <Button\n            icon={<PlusOutlined />}\n            size=\"large\"\n            type=\"primary\"\n            onClick={() => setRecord({ type: \"site\", tags: [] })}\n          >\n            Add Bookmark\n          </Button>\n        </Col>\n      </Row>\n      {bookmarks.data?.tags?.length > 0 && (\n        <div style={{ marginBottom: 20, lineHeight: \"30px\" }}>\n          <Text>Filter By: </Text>\n          {bookmarks.data.tags.map((item) => (\n            <CustomTag\n              key={item}\n              label={item}\n              onClick={() => setSearch(item)}\n              isActive={search === item}\n            />\n          ))}\n        </div>\n      )}\n      {selectedIds.length > 1 && (\n        <Space style={{ marginBottom: 20 }}>\n          <Button\n            size=\"middle\"\n            type=\"primary\"\n            icon={<EditOutlined />}\n            onClick={() => setBulkEdit(true)}\n          >\n            Edit {selectedIds.length} Items\n          </Button>\n          <Popconfirm\n            okText=\"Yes\"\n            cancelText=\"No\"\n            destroyTooltipOnHide\n            okButtonProps={{ danger: true }}\n            title=\"Are you sure you want to delete the selected bookmarks? \"\n            onConfirm={() => bookmarks.bulkRemove(selectedIds)}\n          >\n            <Button\n              size=\"middle\"\n              type=\"primary\"\n              danger\n              icon={<DeleteOutlined />}\n            >\n              Delete {selectedIds.length} Items\n            </Button>\n          </Popconfirm>\n        </Space>\n      )}\n      <Table\n        loading={loading}\n        columns={columns}\n        dataSource={bookmarks.data.docs}\n        onChange={({ current }) => setPage(current)}\n        rowKey=\"_id\"\n        pagination={{\n          current: page,\n          showSizeChanger: false,\n          total: bookmarks.data.total,\n          pageSize: bookmarks.data.limit,\n        }}\n        rowSelection={{\n          onChange: setSelectedIds,\n          selectedRowKeys: selectedIds,\n        }}\n        size=\"small\"\n        scroll={{ x: 1 }}\n        style={{ whiteSpace: \"nowrap\" }}\n      />\n    </div>\n  );\n}\n","export function debounce(func, wait, immediate) {\n  let timeout;\n  return function () {\n    let context = this,\n      args = arguments;\n    let later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    let callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n","import { useContext, createContext, useState, useEffect } from 'react';\nimport { message } from 'antd';\nimport { useCookies } from 'react-cookie';\nimport api from '../../api';\nimport jwtDecode from 'jwt-decode';\n\nconst authContext = createContext();\n\nexport function ProvideAuth({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\n\nexport function useAuth() {\n  return useContext(authContext);\n}\n\nfunction useProvideAuth() {\n  const [cookies, setCookie, removeCookie] = useCookies(['user']);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    let payload = { exp: 0 };\n    try {\n      payload = jwtDecode(cookies.user?.accessToken);\n    } catch (e) {}\n    const now = new Date().getTime() / 1000;\n    if (payload.exp > now) {\n      const token = `Bearer ${cookies.user?.accessToken}`;\n      api.defaults.headers.common['Authorization'] = token;\n      setUser(cookies.user);\n    } else {\n      api.defaults.headers.common['Authorization'] = undefined;\n      setUser(null);\n    }\n  }, [cookies.user]);\n\n  const signin = (data) => {\n    return api\n      .post('/auth/login', {\n        email: data.email,\n        password: data.password,\n      })\n      .then((response) => {\n        const token = `Bearer ${response.data.accessToken}`;\n        api.defaults.headers.common['Authorization'] = token;\n        setUser(response.data);\n        setCookie('user', response.data, { path: '/' });\n      })\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const signup = (data) => {\n    return api\n      .post('/auth/register', {\n        email: data.email,\n        password: data.password,\n      })\n      .then((response) => {\n        const token = `Bearer ${response.data.accessToken}`;\n        api.defaults.headers.common['Authorization'] = token;\n        setUser(response.data);\n        setCookie('user', response.data, { path: '/' });\n      })\n      .catch((response) => {\n        message.error(response.message);\n      });\n  };\n\n  const signout = () => {\n    removeCookie('user');\n    setUser(null);\n  };\n\n  return {\n    user,\n    signin,\n    signup,\n    signout,\n  };\n}\n","import { Form, Input, Button } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\n\nexport default function SignIn(props) {\n  return (\n    <Form\n      layout=\"vertical\"\n      style={{ backgroundColor: '#fff', padding: 20, marginTop: '-16px' }}\n      onFinish={(data) => props.onFinish(data)}\n    >\n      <Form.Item\n        name=\"email\"\n        rules={[\n          {\n            type: 'email',\n            message: 'The input is not valid E-mail!',\n          },\n          {\n            required: true,\n            message: 'Please input your E-mail!',\n          },\n        ]}\n      >\n        <Input placeholder=\"Email\" prefix={<UserOutlined />} />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your password!',\n          },\n        ]}\n      >\n        <Input.Password placeholder=\"Password\" prefix={<LockOutlined />} type=\"password\" />\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Sign In\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n","import { Form, Input, Button } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\n\nexport default function SignUp(props) {\n  return (\n    <Form\n      layout=\"vertical\"\n      style={{ backgroundColor: '#fff', padding: 20, marginTop: '-16px' }}\n      onFinish={(data) => props.onFinish(data)}\n    >\n      <Form.Item\n        name=\"email\"\n        rules={[\n          {\n            type: 'email',\n            message: 'The input is not valid E-mail!',\n          },\n          {\n            required: true,\n            message: 'Please input your E-mail!',\n          },\n        ]}\n      >\n        <Input placeholder=\"Email\" prefix={<UserOutlined />} />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[\n          {\n            required: true,\n            message: 'Please input your password!',\n          },\n        ]}\n      >\n        <Input.Password placeholder=\"Password\" prefix={<LockOutlined />} />\n      </Form.Item>\n      <Form.Item\n        name=\"confirm\"\n        dependencies={['password']}\n        rules={[\n          {\n            required: true,\n            message: 'Please confirm your password!',\n          },\n          ({ getFieldValue }) => ({\n            validator(_, value) {\n              if (!value || getFieldValue('password') === value) {\n                return Promise.resolve();\n              }\n              return Promise.reject(new Error('The two passwords that you entered do not match!'));\n            },\n          }),\n        ]}\n      >\n        <Input.Password placeholder=\"Confirm Password\" prefix={<LockOutlined />} />\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\">\n          Sign Up\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n","import { Typography, Tabs } from 'antd';\nimport { useAuth } from '../providers/ProvideAuth';\nimport SignIn from '../components/SignIn';\nimport SignUp from '../components/SignUp';\n\nconst { Title } = Typography;\nconst { TabPane } = Tabs;\n\nexport default function Home() {\n  const auth = useAuth();\n  return (\n    <div>\n      <Title level={2} style={{ marginBottom: 25 }}>\n        Sign In to Save Your Bookmarks!\n      </Title>\n      <div style={{ overflow: 'hidden', maxWidth: 500 }}>\n        <Tabs type='card'>\n          <TabPane tab='Sign In' key='1'>\n            <SignIn onFinish={(data) => auth.signin(data)} />\n          </TabPane>\n          <TabPane tab='Sign Up' key='2'>\n            <SignUp onFinish={(data) => auth.signup(data)} />\n          </TabPane>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n","import { useRef } from \"react\";\nimport { Menu, Dropdown, Upload, Modal, message } from \"antd\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport { useAuth } from \"../providers/ProvideAuth\";\nimport { useBookmarks } from \"../providers/ProvideBookmark\";\nimport api from \"../api\";\n\nfunction App() {\n  const auth = useAuth();\n  const bookmarks = useBookmarks();\n  const that = useRef({});\n  return (\n    auth.user && (\n      <Dropdown\n        overlay={\n          <Menu>\n            <Menu.Item>\n              <Upload\n                name=\"bookmarks\"\n                multiple={false}\n                showUploadList={false}\n                accept=\"application/html, text/html\"\n                action={api.defaults.baseURL.concat(\"/bookmarks/import\")}\n                headers={{\n                  authorization: api.defaults.headers.common[\"Authorization\"],\n                }}\n                onChange={(res) => {\n                  if (res.file.status === \"done\") {\n                    message.success(\"Your bookmarks imported successfully!\");\n                    bookmarks.list();\n                    that.current.uploading = false;\n                  } else if (res.file.status === \"error\") {\n                    message.error(\"Your bookmarks import failed!\");\n                    that.current.uploading = false;\n                  } else if (res.file.status === \"uploading\") {\n                    if (!that.current.uploading) {\n                      message.info(\"Please wait!\");\n                    }\n                    that.current.uploading = true;\n                  }\n                }}\n              >\n                Import Bookmarks HTML\n              </Upload>\n            </Menu.Item>\n            <Menu.Item\n              onClick={() =>\n                Modal.confirm({\n                  title: \"Are you sure to want to delete your bookmarks?\",\n                  okButtonProps: { danger: true },\n                  onOk: bookmarks.drop,\n                  okText: \"Yes\",\n                  cancelText: \"No\",\n                })\n              }\n            >\n              Delete Bookmarks\n            </Menu.Item>\n            <Menu.Item onClick={() => auth.signout()}>Logout</Menu.Item>\n          </Menu>\n        }\n      >\n        <span\n          style={{ color: \"#fff\", cursor: \"pointer\" }}\n          onClick={(e) => e.preventDefault()}\n        >\n          {auth.user?.email} <DownOutlined />\n        </span>\n      </Dropdown>\n    )\n  );\n}\n\nexport default App;\n","import Bookmarks from './pages/Bookmarks';\nimport Home from './pages/Home';\nimport { Layout, Row, Col, message } from 'antd';\nimport { BookOutlined as Logo } from '@ant-design/icons';\nimport { useAuth } from './providers/ProvideAuth';\nimport UserMenu from './components/UserMenu';\n\nmessage.config({});\n\nfunction App() {\n  const auth = useAuth();\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <Layout.Header>\n        <Row wrap={false}>\n          <Col flex=\"auto\">\n            <Logo style={{ fontSize: 20, color: '#fff' }} />\n          </Col>\n          <Col flex=\"none\">\n            <UserMenu />\n          </Col>\n        </Row>\n      </Layout.Header>\n      <Layout.Content style={{ padding: '50px 5%' }}>\n        {auth.user ? <Bookmarks /> : <Home />}\n      </Layout.Content>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'antd/dist/antd.css';\nimport { ProvideAuth } from './providers/ProvideAuth';\nimport { ProvideBookmark } from './providers/ProvideBookmark';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ProvideAuth>\n      <ProvideBookmark>\n        <App />\n      </ProvideBookmark>\n    </ProvideAuth>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}